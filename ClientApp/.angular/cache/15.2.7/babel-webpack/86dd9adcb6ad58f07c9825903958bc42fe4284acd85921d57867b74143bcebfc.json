{"ast":null,"code":"// import { Component } from '@angular/core';\n// import { Router } from '@angular/router';\n// import { ApiService } from 'src/app/shared/api.service';\n// import { AuthserviceService } from 'src/app/shared/authservice.service';\nimport { __decorate } from \"tslib\";\n// @Component({\n//   selector: 'app-student-dashboard',\n//   templateUrl: './student-dashboard.component.html',\n//   styleUrls: ['./student-dashboard.component.css']\n// })\n// export class StudentDashboardComponent {\n//   studentData !: any;\n//   selectedStudent: any;\n//   studentDataFromJson: any;\n//   email!: string; //display emailid of vt to student dashboard\n//   showDailyDiarySection: boolean = false;\n//   MonthDaysData: string[]=['MonthDay1','MonthDay2','MonthDay3','MonthDay4','MonthDay5','MonthDay6','MonthDay7','MonthDay8','MonthDay9','MonthDay10','MonthDay11','MonthDay12','MonthDay13'];\n//   hoursData: string[] = ['hour1', 'hour2', 'hour3', 'hour4', 'hour5', 'hour6', 'hour7', 'hour8', 'hour9', 'hour10', 'hour11', 'hour12', 'hour13'];\n//   minutesData: string[] = ['minutes1','minutes2','minutes3','minutes4','minutes5','minutes6','minutes7','minutes8','minutes9','minutes10','minutes11','minutes12','minutes13'];\n//  // Task1TickData: string[] = ['Task1Tick1','Task1Tick2','Task1Tick3','Task1Tick4','Task1Tick5','Task1Tick6','Task1Tick7','Task1Tick8','Task1Tick9','Task1Tick10','Task1Tick11','Task1Tick12','Task1Tick13']\n//   taskData: any[] | undefined;\n//   constructor(private apiservice: ApiService,\n//     private router: Router,\n//     private authservice : AuthserviceService) { }\n//   ngOnInit(): void {\n//     this.getAllStudents();\n//     this.email = this.authservice.getEmail();//display emailid of vt to student dashboard\n//   }\n//   getAllStudents() {\n//     this.apiservice.getStudents().subscribe((res: any) => {\n//       this.studentData = res.studentDetails;\n//       console.log(res.studentDetails);\n//     })\n//   }\n//   selectStudent(id: number) {\n//     this.apiservice.getStudentById(id).subscribe((res) => {\n//       this.selectedStudent = res.studentDetails;\n//       //console.log(res.studentDetails);\n//       console.log(this.selectedStudent);\n//     })\n//   }\n//   clearSelectedStudent() {\n//     this.selectedStudent = null;\n//   }\n//   go_to_login() {\n//     this.router.navigate(['/vt_login'])\n//   }\n//   //select json file and upload\n//   onFileSelected(event: any): void {\n//     const file = event.target.files[0];\n//     if (file) {\n//       const reader = new FileReader();\n//       reader.onload = (e) => {\n//         //It checks if e and e.target are not null or undefined before attempting to access e.target. \n//         //The result is cast to FileReader type, and then .result is accessed and cast as a string.\n//         const fileContent = (e.target as FileReader)?.result as string;\n//         this.parseJson(fileContent);\n//          this.jsonData1(); // Log the filtered data before sending to the backend\n//         // this.uploadDataToBackend();\n//         this.showDailyDiarySection = true; \n//       };\n//       reader.readAsText(file);\n//     }\n//   }\n//   private parseJson(jsonString: string): void {\n//     try {\n//       const jsonData = JSON.parse(jsonString);\n//       this.studentDataFromJson = jsonData;\n//       console.log(\"stu_data from json\", this.studentDataFromJson);\n//       // this.hoursData = Object.values(this.studentDataFromJson.fieldInfo.hour);\n//     } catch (error) {\n//       console.log(\"Error parsing JSON:\", error);\n//     }\n//   }\n//   //here new obj for filtered data from scanned file to send to backend\n//   // private jsonData1(): void {\n//   //   if (this.studentDataFromJson) {\n//   //     const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n//   //     const sortedData: TaskData[] = [];\n//   //     // Extract the 'Year' and 'Month' from the scanned file\n//   //     const year = this.studentDataFromJson.fieldInfo['Year'];\n//   //     const month = this.studentDataFromJson.fieldInfo['Month'];\n//   //     tasks.forEach((task) => {\n//   //       const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n//   //       console.log(\"TaskName=\",taskName);\n//   //       // Skip if TaskName is empty\n//   //       if (!taskName) {\n//   //         return;\n//   //       }\n//   //       for (let i = 1; i <= 13; i++) {\n//   //         const tickKey = `${task}Tick${i}`;\n//   //         const monthDayKey = `MonthDay${i}`;\n//   //         const hourKey = `hour${i}`;\n//   //         const minuteKey = `minutes${i}`;\n//   //         const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 'Yes' : 'No';\n//   //         console.log(\"Tick\",this.studentDataFromJson.fieldInfo[tickKey]);\n//   //         // Only include tasks with tick value 1\n//   //         if (performedValue === 'Yes') {\n//   //           const monthDayValue = this.studentDataFromJson.fieldInfo[monthDayKey];\n//   //           const hourValue = this.studentDataFromJson.fieldInfo[hourKey];\n//   //           const minuteValue = this.studentDataFromJson.fieldInfo[minuteKey];\n//   //           const minutesPresent = minuteValue !== ''; // Check if minutes are present\n//   //           // Form the date string directly\n//   //           const date = `${year}-${month}-${monthDayValue}`;\n//   //           const taskObj = {\n//   //             TaskName: taskName,\n//   //             Performed: performedValue,\n//   //             Date: date,\n//   //             Hour: hourValue,\n//   //             Minutes: minutesPresent ? minuteValue : '00', // Include only if minutes are present\n//   //           };\n//   //           // Check if the task is already in the sortedData array\n//   //           const existingTask = sortedData.find((item) => item.TaskName === taskName && item.Date === date);\n//   //           if (!existingTask) {\n//   //             sortedData.push(taskObj);\n//   //           }\n//   //         }\n//   //       }\n//   //     });\n//   //     // Sort the array based on TaskName, Date\n//   //     sortedData.sort((a, b) => {\n//   //       const taskNameComparison = a.TaskName.localeCompare(b.TaskName);\n//   //       return taskNameComparison === 0 ? a.Date.localeCompare(b.Date) : taskNameComparison;\n//   //     });\n//   //     console.log(\"sortedData =\", sortedData);\n//   //   }\n//   // }\n//   private jsonData1(): void {\n//     if (this.studentDataFromJson) {\n//       const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n//       const taskData: any[] = [];\n//       tasks.forEach((task) => {\n//         const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n//         console.log(\"TaskName=\", taskName);\n//         // Skip if TaskName is empty\n//         if (!taskName) {\n//           return;\n//         }\n//         const taskTicks: number[] = [];\n//         for (let i = 1; i <= 13; i++) {\n//           const tickKey = `${task}Tick${i}`;\n//           const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 1 : 0;\n//           console.log(\"Tick\", performedValue);\n//           taskTicks.push(performedValue);\n//         }\n//         const taskObj = {\n//           TaskName: taskName,\n//           TaskTicks: taskTicks,\n//         };\n//         taskData.push(taskObj);\n//       });\n//       console.log(\"taskData =\", taskData);\n//       // use taskData to display in the template\n//       this.taskData = taskData; \n//     }\n//   }\n// }\n// interface TaskData {\n//   TaskName: string;\n//   Performed: string;//Performed means TaskTick\n//  Date: string;\n//   Hour: string;\n//   Minutes?: string;\n// }\n//------------------------------------------------------------------------------------------------------------\n//------------------------------------------------------------------------------------------------------------\nimport { Component } from '@angular/core';\nlet StudentDashboardComponent = class StudentDashboardComponent {\n  constructor(apiservice, router, authservice, imageCompressService) {\n    this.apiservice = apiservice;\n    this.router = router;\n    this.authservice = authservice;\n    this.imageCompressService = imageCompressService;\n    this.showDailyDiarySection = false;\n    this.MonthDaysData = ['MonthDay1', 'MonthDay2', 'MonthDay3', 'MonthDay4', 'MonthDay5', 'MonthDay6', 'MonthDay7', 'MonthDay8', 'MonthDay9', 'MonthDay10', 'MonthDay11', 'MonthDay12', 'MonthDay13'];\n    this.hoursData = ['hour1', 'hour2', 'hour3', 'hour4', 'hour5', 'hour6', 'hour7', 'hour8', 'hour9', 'hour10', 'hour11', 'hour12', 'hour13'];\n    this.minutesData = ['minutes1', 'minutes2', 'minutes3', 'minutes4', 'minutes5', 'minutes6', 'minutes7', 'minutes8', 'minutes9', 'minutes10', 'minutes11', 'minutes12', 'minutes13'];\n    this.selectedImage = null;\n    this.compressedBase64 = null;\n  }\n  ngOnInit() {\n    this.getAllStudents();\n    this.email = this.authservice.getEmail(); //display emailid of vt to student dashboard\n  }\n\n  getAllStudents() {\n    this.apiservice.getStudents().subscribe(res => {\n      this.studentData = res.studentDetails;\n      console.log(res.studentDetails);\n    });\n  }\n  selectStudent(id) {\n    this.apiservice.getStudentById(id).subscribe(res => {\n      this.selectedStudent = res.studentDetails;\n      //console.log(res.studentDetails);\n      console.log(this.selectedStudent);\n    });\n  }\n  clearSelectedStudent() {\n    this.selectedStudent = null;\n  }\n  go_to_login() {\n    this.router.navigate(['/vt_login']);\n  }\n  //select json file and upload\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        //It checks if e and e.target are not null or undefined before attempting to access e.target. \n        //The result is cast to FileReader type, and then .result is accessed and cast as a string.\n        const fileContent = e.target?.result;\n        this.parseJson(fileContent);\n        this.jsonData1(); // Log the filtered data before sending to the backend\n        this.sortedData1();\n        // this.uploadDataToBackend();\n        this.showDailyDiarySection = true;\n      };\n      reader.readAsText(file);\n    }\n  }\n  parseJson(jsonString) {\n    try {\n      const jsonData = JSON.parse(jsonString);\n      this.studentDataFromJson = jsonData;\n      console.log(\"stu_data from json\", this.studentDataFromJson);\n      // this.hoursData = Object.values(this.studentDataFromJson.fieldInfo.hour);\n    } catch (error) {\n      console.log(\"Error parsing JSON:\", error);\n    }\n  }\n  //code to select image\n  onImageSelected(event) {\n    const files = event.target.files;\n    this.selectedImage = files && files.length > 0 ? files[0] : null;\n    if (this.selectedImage) {\n      const originalSizeInBytes = this.selectedImage.size;\n      const originalSizeInKB = originalSizeInBytes / 1024;\n      console.log('Original Image Size:', originalSizeInKB.toFixed(2), 'KB');\n      // this.compressImage();\n    }\n  }\n  //to compress image\n  // compressImage(): void {\n  //   if (this.selectedImage) {\n  //     const reader = new FileReader();\n  //     reader.onload = () => {\n  //       const base64String = reader.result as string;\n  //       this.imageCompress\n  //         .compressFile(base64String, -1, 60, 60)\n  //         .then((compressedBase64: string) => {\n  //           const compressedSizeInBytes = compressedBase64.length;\n  //           const compressedSizeInKB = compressedSizeInBytes / 1024;\n  //           console.log('Compressed Image Size:', compressedSizeInKB.toFixed(2), 'KB');\n  //           this.compressedBase64 = compressedBase64;\n  //         })\n  //         .catch((error) => {\n  //           console.error('Image Compression Error:', error);\n  //         });\n  //     };\n  //     reader.readAsDataURL(this.selectedImage);\n  //   }\n  // }\n  //upload compress image\n  //  onUpload(): void {\n  //   if (this.compressedBase64) {\n  //     console.log('Sending Compressed Image Size:', this.compressedBase64.length / 1024, 'KB');\n  //     this.apiservice.uploadCompressedImg(this.compressedBase64.split(',')[1]).subscribe({\n  //       next: (response) => {\n  //         console.log('API Response:', response);\n  //       },\n  //       error: (error) => {\n  //         console.error('API Error:', error);\n  //       },\n  //     });\n  //   }\n  // }\n  //here new obj for filtered data from scanned file to send to backend\n  sortedData1() {\n    if (this.studentDataFromJson) {\n      const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n      const sortedData = [];\n      // Extract the 'Year' and 'Month' from the scanned file\n      const year = this.studentDataFromJson.fieldInfo['Year'];\n      const month = this.studentDataFromJson.fieldInfo['Month'];\n      tasks.forEach(task => {\n        const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n        // console.log(\"TaskName=\",taskName);\n        // Skip if TaskName is empty\n        if (!taskName) {\n          return;\n        }\n        const taskTicks = [];\n        for (let i = 1; i <= 13; i++) {\n          const tickKey = `${task}Tick${i}`;\n          const monthDayKey = `MonthDay${i}`;\n          const hourKey = `hour${i}`;\n          const minuteKey = `minutes${i}`;\n          const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 'Yes' : 'No';\n          //  console.log(\"Tick\",this.studentDataFromJson.fieldInfo[tickKey]);\n          // taskTicks.push(performedValue);\n          // Only include tasks with tick value 1\n          if (performedValue === 'Yes') {\n            const monthDayValue = this.studentDataFromJson.fieldInfo[monthDayKey];\n            const hourValue = this.studentDataFromJson.fieldInfo[hourKey];\n            const minuteValue = this.studentDataFromJson.fieldInfo[minuteKey];\n            const minutesPresent = minuteValue !== ''; // Check if minutes are present\n            // Form the date string directly\n            const date = `${year}-${month}-${monthDayValue}`;\n            const taskObj = {\n              TaskName: taskName,\n              Performed: performedValue,\n              Date: date,\n              Hour: hourValue,\n              Minutes: minutesPresent ? minuteValue : '00' // Include only if minutes are present\n            };\n            // Check if the task is already in the sortedData array\n            const existingTask = sortedData.find(item => item.TaskName === taskName && item.Date === date);\n            if (!existingTask) {\n              sortedData.push(taskObj);\n            }\n          }\n        }\n      });\n      // Sort the array based on TaskName, Date\n      sortedData.sort((a, b) => {\n        const taskNameComparison = a.TaskName.localeCompare(b.TaskName);\n        return taskNameComparison === 0 ? a.Date.localeCompare(b.Date) : taskNameComparison;\n      });\n      console.log(\"sortedData =\", sortedData);\n    }\n  }\n  jsonData1() {\n    if (this.studentDataFromJson) {\n      const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n      const taskData = [];\n      const sortedData = [];\n      // Extract the 'Year' and 'Month' from the scanned file\n      const year = this.studentDataFromJson.fieldInfo['Year'];\n      const month = this.studentDataFromJson.fieldInfo['Month'];\n      tasks.forEach(task => {\n        const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n        // console.log(\"TaskName=\", taskName);\n        // Skip if TaskName is empty\n        if (!taskName) {\n          return;\n        }\n        const taskTicks = [];\n        for (let i = 1; i <= 13; i++) {\n          const tickKey = `${task}Tick${i}`;\n          const monthDayKey = `MonthDay${i}`;\n          const hourKey = `hour${i}`;\n          const minuteKey = `minutes${i}`;\n          const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 1 : 0;\n          //console.log(\"Tick\", performedValue);\n          taskTicks.push(performedValue);\n        }\n        const taskObj = {\n          TaskName: taskName,\n          TaskTicks: taskTicks\n        };\n        taskData.push(taskObj);\n      });\n      // console.log(\"taskData =\", taskData);\n      // use taskData to display in the template\n      this.taskData = taskData;\n    }\n  }\n};\nStudentDashboardComponent = __decorate([Component({\n  selector: 'app-student-dashboard',\n  templateUrl: './student-dashboard.component.html',\n  styleUrls: ['./student-dashboard.component.css']\n})], StudentDashboardComponent);\nexport { StudentDashboardComponent };","map":{"version":3,"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,SAAS,QAAQ,eAAe;AAYlC,IAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAiBpCC,YAAoBC,UAAsB,EAChCC,MAAc,EACdC,WAAgC,EAChCC,oBAAuB;IAHb,eAAU,GAAVH,UAAU;IACpB,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IACX,yBAAoB,GAApBC,oBAAoB;IAd9B,0BAAqB,GAAY,KAAK;IACtC,kBAAa,GAAW,CAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,WAAW,EAAC,YAAY,EAAC,YAAY,EAAC,YAAY,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","names":["Component","StudentDashboardComponent","constructor","apiservice","router","authservice","imageCompressService","ngOnInit","getAllStudents","email","getEmail","getStudents","subscribe","res","studentData","studentDetails","console","log","selectStudent","id","getStudentById","selectedStudent","clearSelectedStudent","go_to_login","navigate","onFileSelected","event","file","target","files","reader","FileReader","onload","e","fileContent","result","parseJson","jsonData1","sortedData1","showDailyDiarySection","readAsText","jsonString","jsonData","JSON","parse","studentDataFromJson","error","onImageSelected","selectedImage","length","originalSizeInBytes","size","originalSizeInKB","toFixed","tasks","sortedData","year","fieldInfo","month","forEach","task","taskName","substring","taskTicks","i","tickKey","monthDayKey","hourKey","minuteKey","performedValue","monthDayValue","hourValue","minuteValue","minutesPresent","date","taskObj","TaskName","Performed","Date","Hour","Minutes","existingTask","find","item","push","sort","a","b","taskNameComparison","localeCompare","taskData","TaskTicks","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\project angular\\Student_Task_Tracker\\ClientApp\\src\\app\\VT_Section\\student-dashboard\\student-dashboard.component.ts"],"sourcesContent":["// import { Component } from '@angular/core';\n// import { Router } from '@angular/router';\n// import { ApiService } from 'src/app/shared/api.service';\n// import { AuthserviceService } from 'src/app/shared/authservice.service';\n\n// @Component({\n//   selector: 'app-student-dashboard',\n//   templateUrl: './student-dashboard.component.html',\n//   styleUrls: ['./student-dashboard.component.css']\n// })\n// export class StudentDashboardComponent {\n//   studentData !: any;\n//   selectedStudent: any;\n//   studentDataFromJson: any;\n//   email!: string; //display emailid of vt to student dashboard\n\n//   showDailyDiarySection: boolean = false;\n//   MonthDaysData: string[]=['MonthDay1','MonthDay2','MonthDay3','MonthDay4','MonthDay5','MonthDay6','MonthDay7','MonthDay8','MonthDay9','MonthDay10','MonthDay11','MonthDay12','MonthDay13'];\n//   hoursData: string[] = ['hour1', 'hour2', 'hour3', 'hour4', 'hour5', 'hour6', 'hour7', 'hour8', 'hour9', 'hour10', 'hour11', 'hour12', 'hour13'];\n//   minutesData: string[] = ['minutes1','minutes2','minutes3','minutes4','minutes5','minutes6','minutes7','minutes8','minutes9','minutes10','minutes11','minutes12','minutes13'];\n//  // Task1TickData: string[] = ['Task1Tick1','Task1Tick2','Task1Tick3','Task1Tick4','Task1Tick5','Task1Tick6','Task1Tick7','Task1Tick8','Task1Tick9','Task1Tick10','Task1Tick11','Task1Tick12','Task1Tick13']\n//   taskData: any[] | undefined;\n\n\n//   constructor(private apiservice: ApiService,\n//     private router: Router,\n//     private authservice : AuthserviceService) { }\n\n//   ngOnInit(): void {\n//     this.getAllStudents();\n//     this.email = this.authservice.getEmail();//display emailid of vt to student dashboard\n//   }\n\n//   getAllStudents() {\n//     this.apiservice.getStudents().subscribe((res: any) => {\n\n//       this.studentData = res.studentDetails;\n//       console.log(res.studentDetails);\n//     })\n//   }\n//   selectStudent(id: number) {\n//     this.apiservice.getStudentById(id).subscribe((res) => {\n//       this.selectedStudent = res.studentDetails;\n//       //console.log(res.studentDetails);\n//       console.log(this.selectedStudent);\n//     })\n//   }\n//   clearSelectedStudent() {\n//     this.selectedStudent = null;\n//   }\n//   go_to_login() {\n//     this.router.navigate(['/vt_login'])\n//   }\n\n//   //select json file and upload\n//   onFileSelected(event: any): void {\n//     const file = event.target.files[0];\n//     if (file) {\n//       const reader = new FileReader();\n//       reader.onload = (e) => {\n//         //It checks if e and e.target are not null or undefined before attempting to access e.target. \n//         //The result is cast to FileReader type, and then .result is accessed and cast as a string.\n//         const fileContent = (e.target as FileReader)?.result as string;\n//         this.parseJson(fileContent);\n//          this.jsonData1(); // Log the filtered data before sending to the backend\n//         // this.uploadDataToBackend();\n//         this.showDailyDiarySection = true; \n//       };\n//       reader.readAsText(file);\n//     }\n//   }\n//   private parseJson(jsonString: string): void {\n//     try {\n//       const jsonData = JSON.parse(jsonString);\n//       this.studentDataFromJson = jsonData;\n//       console.log(\"stu_data from json\", this.studentDataFromJson);\n//       // this.hoursData = Object.values(this.studentDataFromJson.fieldInfo.hour);\n//     } catch (error) {\n//       console.log(\"Error parsing JSON:\", error);\n//     }\n//   }\n\n//   //here new obj for filtered data from scanned file to send to backend\n//   // private jsonData1(): void {\n//   //   if (this.studentDataFromJson) {\n//   //     const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n//   //     const sortedData: TaskData[] = [];\n  \n//   //     // Extract the 'Year' and 'Month' from the scanned file\n//   //     const year = this.studentDataFromJson.fieldInfo['Year'];\n//   //     const month = this.studentDataFromJson.fieldInfo['Month'];\n  \n//   //     tasks.forEach((task) => {\n//   //       const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n//   //       console.log(\"TaskName=\",taskName);\n  \n//   //       // Skip if TaskName is empty\n//   //       if (!taskName) {\n//   //         return;\n//   //       }\n  \n//   //       for (let i = 1; i <= 13; i++) {\n//   //         const tickKey = `${task}Tick${i}`;\n//   //         const monthDayKey = `MonthDay${i}`;\n//   //         const hourKey = `hour${i}`;\n//   //         const minuteKey = `minutes${i}`;\n  \n//   //         const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 'Yes' : 'No';\n//   //         console.log(\"Tick\",this.studentDataFromJson.fieldInfo[tickKey]);\n  \n//   //         // Only include tasks with tick value 1\n//   //         if (performedValue === 'Yes') {\n//   //           const monthDayValue = this.studentDataFromJson.fieldInfo[monthDayKey];\n//   //           const hourValue = this.studentDataFromJson.fieldInfo[hourKey];\n//   //           const minuteValue = this.studentDataFromJson.fieldInfo[minuteKey];\n  \n//   //           const minutesPresent = minuteValue !== ''; // Check if minutes are present\n  \n//   //           // Form the date string directly\n//   //           const date = `${year}-${month}-${monthDayValue}`;\n  \n//   //           const taskObj = {\n//   //             TaskName: taskName,\n//   //             Performed: performedValue,\n//   //             Date: date,\n//   //             Hour: hourValue,\n//   //             Minutes: minutesPresent ? minuteValue : '00', // Include only if minutes are present\n//   //           };\n  \n//   //           // Check if the task is already in the sortedData array\n//   //           const existingTask = sortedData.find((item) => item.TaskName === taskName && item.Date === date);\n  \n//   //           if (!existingTask) {\n//   //             sortedData.push(taskObj);\n//   //           }\n//   //         }\n//   //       }\n//   //     });\n  \n//   //     // Sort the array based on TaskName, Date\n//   //     sortedData.sort((a, b) => {\n//   //       const taskNameComparison = a.TaskName.localeCompare(b.TaskName);\n//   //       return taskNameComparison === 0 ? a.Date.localeCompare(b.Date) : taskNameComparison;\n//   //     });\n  \n//   //     console.log(\"sortedData =\", sortedData);\n//   //   }\n//   // }\n\n//   private jsonData1(): void {\n//     if (this.studentDataFromJson) {\n//       const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n//       const taskData: any[] = [];\n  \n//       tasks.forEach((task) => {\n//         const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n//         console.log(\"TaskName=\", taskName);\n  \n//         // Skip if TaskName is empty\n//         if (!taskName) {\n//           return;\n//         }\n  \n//         const taskTicks: number[] = [];\n  \n//         for (let i = 1; i <= 13; i++) {\n//           const tickKey = `${task}Tick${i}`;\n//           const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 1 : 0;\n//           console.log(\"Tick\", performedValue);\n  \n//           taskTicks.push(performedValue);\n//         }\n  \n//         const taskObj = {\n//           TaskName: taskName,\n//           TaskTicks: taskTicks,\n//         };\n  \n//         taskData.push(taskObj);\n//       });\n  \n//       console.log(\"taskData =\", taskData);\n  \n//       // use taskData to display in the template\n//       this.taskData = taskData; \n//     }\n//   }\n// }\n\n// interface TaskData {\n//   TaskName: string;\n//   Performed: string;//Performed means TaskTick\n//  Date: string;\n//   Hour: string;\n//   Minutes?: string;\n// }\n//------------------------------------------------------------------------------------------------------------\n//------------------------------------------------------------------------------------------------------------\n\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/shared/api.service';\nimport { AuthserviceService } from 'src/app/shared/authservice.service';\nimport { NgxImageCompressService } from 'ngx-image-compress';\n\n\n@Component({\n  selector: 'app-student-dashboard',\n  templateUrl: './student-dashboard.component.html',\n  styleUrls: ['./student-dashboard.component.css']\n})\nexport class StudentDashboardComponent {\n  studentData !: any;\n  selectedStudent: any;\n  studentDataFromJson: any;\n  email!: string; //display emailid of vt to student dashboard\n\n  showDailyDiarySection: boolean = false;\n  MonthDaysData: string[]=['MonthDay1','MonthDay2','MonthDay3','MonthDay4','MonthDay5','MonthDay6','MonthDay7','MonthDay8','MonthDay9','MonthDay10','MonthDay11','MonthDay12','MonthDay13'];\n  hoursData: string[] = ['hour1', 'hour2', 'hour3', 'hour4', 'hour5', 'hour6', 'hour7', 'hour8', 'hour9', 'hour10', 'hour11', 'hour12', 'hour13'];\n  minutesData: string[] = ['minutes1','minutes2','minutes3','minutes4','minutes5','minutes6','minutes7','minutes8','minutes9','minutes10','minutes11','minutes12','minutes13'];\n // Task1TickData: string[] = ['Task1Tick1','Task1Tick2','Task1Tick3','Task1Tick4','Task1Tick5','Task1Tick6','Task1Tick7','Task1Tick8','Task1Tick9','Task1Tick10','Task1Tick11','Task1Tick12','Task1Tick13']\n  taskData: any[] | undefined;\n\n  selectedImage: File | null = null;\n  compressedBase64: string | null = null;\n\n\n  constructor(private apiservice: ApiService,\n    private router: Router,\n    private authservice : AuthserviceService,\n    private imageCompressService :n\n   ) { }\n\n  ngOnInit(): void {\n    this.getAllStudents();\n    this.email = this.authservice.getEmail();//display emailid of vt to student dashboard\n  }\n\n  getAllStudents() {\n    this.apiservice.getStudents().subscribe((res: any) => {\n\n      this.studentData = res.studentDetails;\n      console.log(res.studentDetails);\n    })\n  }\n  selectStudent(id: number) {\n    this.apiservice.getStudentById(id).subscribe((res) => {\n      this.selectedStudent = res.studentDetails;\n      //console.log(res.studentDetails);\n      console.log(this.selectedStudent);\n    })\n  }\n  clearSelectedStudent() {\n    this.selectedStudent = null;\n  }\n  go_to_login() {\n    this.router.navigate(['/vt_login'])\n  }\n\n  //select json file and upload\n  onFileSelected(event: any): void {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        //It checks if e and e.target are not null or undefined before attempting to access e.target. \n        //The result is cast to FileReader type, and then .result is accessed and cast as a string.\n        const fileContent = (e.target as FileReader)?.result as string;\n        this.parseJson(fileContent);\n         this.jsonData1(); // Log the filtered data before sending to the backend\n        this.sortedData1();\n        // this.uploadDataToBackend();\n        this.showDailyDiarySection = true; \n      };\n      reader.readAsText(file);\n    }\n  }\n  private parseJson(jsonString: string): void {\n    try {\n      const jsonData = JSON.parse(jsonString);\n      this.studentDataFromJson = jsonData;\n      console.log(\"stu_data from json\", this.studentDataFromJson);\n      // this.hoursData = Object.values(this.studentDataFromJson.fieldInfo.hour);\n    } catch (error) {\n      console.log(\"Error parsing JSON:\", error);\n    }\n  }\n\n  //code to select image\n  onImageSelected(event:any): void {\n    const files = event.target.files;\n    this.selectedImage = files && files.length > 0 ? files[0] : null;\n\n    if (this.selectedImage) {\n      const originalSizeInBytes = this.selectedImage.size;\n      const originalSizeInKB = originalSizeInBytes / 1024;\n      console.log('Original Image Size:', originalSizeInKB.toFixed(2), 'KB');\n     // this.compressImage();\n    }\n  }\n\n  //to compress image\n  // compressImage(): void {\n  //   if (this.selectedImage) {\n  //     const reader = new FileReader();\n  //     reader.onload = () => {\n  //       const base64String = reader.result as string;\n  //       this.imageCompress\n  //         .compressFile(base64String, -1, 60, 60)\n  //         .then((compressedBase64: string) => {\n  //           const compressedSizeInBytes = compressedBase64.length;\n  //           const compressedSizeInKB = compressedSizeInBytes / 1024;\n  //           console.log('Compressed Image Size:', compressedSizeInKB.toFixed(2), 'KB');\n  //           this.compressedBase64 = compressedBase64;\n  //         })\n  //         .catch((error) => {\n  //           console.error('Image Compression Error:', error);\n  //         });\n  //     };\n  //     reader.readAsDataURL(this.selectedImage);\n  //   }\n  // }\n //upload compress image\n//  onUpload(): void {\n//   if (this.compressedBase64) {\n//     console.log('Sending Compressed Image Size:', this.compressedBase64.length / 1024, 'KB');\n//     this.apiservice.uploadCompressedImg(this.compressedBase64.split(',')[1]).subscribe({\n//       next: (response) => {\n//         console.log('API Response:', response);\n//       },\n//       error: (error) => {\n//         console.error('API Error:', error);\n//       },\n//     });\n//   }\n// }\n\n  //here new obj for filtered data from scanned file to send to backend\n  private sortedData1(): void {\n    if (this.studentDataFromJson) {\n      const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n      const sortedData: TaskData[] = [];\n  \n      // Extract the 'Year' and 'Month' from the scanned file\n      const year = this.studentDataFromJson.fieldInfo['Year'];\n      const month = this.studentDataFromJson.fieldInfo['Month'];\n  \n      tasks.forEach((task) => {\n        const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n       // console.log(\"TaskName=\",taskName);\n  \n        // Skip if TaskName is empty\n        if (!taskName) {\n          return;\n        }\n\n        const taskTicks: number[] = [];\n  \n        for (let i = 1; i <= 13; i++) {\n          const tickKey = `${task}Tick${i}`;\n          const monthDayKey = `MonthDay${i}`;\n          const hourKey = `hour${i}`;\n          const minuteKey = `minutes${i}`;\n          const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 'Yes' : 'No';\n        //  console.log(\"Tick\",this.studentDataFromJson.fieldInfo[tickKey]);\n  \n       // taskTicks.push(performedValue);\n          // Only include tasks with tick value 1\n          if (performedValue === 'Yes') {\n            const monthDayValue = this.studentDataFromJson.fieldInfo[monthDayKey];\n            const hourValue = this.studentDataFromJson.fieldInfo[hourKey];\n            const minuteValue = this.studentDataFromJson.fieldInfo[minuteKey];\n  \n            const minutesPresent = minuteValue !== ''; // Check if minutes are present\n  \n            // Form the date string directly\n            const date = `${year}-${month}-${monthDayValue}`;\n  \n            const taskObj = {\n              TaskName: taskName,\n              Performed: performedValue,\n              Date: date,\n              Hour: hourValue,\n              Minutes: minutesPresent ? minuteValue : '00', // Include only if minutes are present\n            };\n  \n            // Check if the task is already in the sortedData array\n            const existingTask = sortedData.find((item) => item.TaskName === taskName && item.Date === date);\n  \n            if (!existingTask) {\n              sortedData.push(taskObj);\n            }\n          }\n        }\n      });\n  \n      // Sort the array based on TaskName, Date\n      sortedData.sort((a, b) => {\n        const taskNameComparison = a.TaskName.localeCompare(b.TaskName);\n        return taskNameComparison === 0 ? a.Date.localeCompare(b.Date) : taskNameComparison;\n      });\n  \n      console.log(\"sortedData =\", sortedData);\n    }\n  }\n\n  private jsonData1(): void {\n    if (this.studentDataFromJson) {\n      const tasks = ['Task1', 'Task2', 'Task3', 'Task4', 'Task5', 'Task6'];\n      const taskData: any[] = [];\n      const sortedData: TaskData[] = [];\n\n      // Extract the 'Year' and 'Month' from the scanned file\n      const year = this.studentDataFromJson.fieldInfo['Year'];\n      const month = this.studentDataFromJson.fieldInfo['Month'];\n  \n      tasks.forEach((task) => {\n        const taskName = this.studentDataFromJson.fieldInfo[`TaskName${task.substring(4)}`];\n       // console.log(\"TaskName=\", taskName);\n  \n        // Skip if TaskName is empty\n        if (!taskName) {\n          return;\n        }\n  \n        const taskTicks: number[] = [];\n  \n        for (let i = 1; i <= 13; i++) {\n          const tickKey = `${task}Tick${i}`;\n          const monthDayKey = `MonthDay${i}`;\n          const hourKey = `hour${i}`;\n          const minuteKey = `minutes${i}`;\n          const performedValue = this.studentDataFromJson.fieldInfo[tickKey] === '1' ? 1 : 0;\n          //console.log(\"Tick\", performedValue);\n  \n          taskTicks.push(performedValue);\n        }\n  \n        const taskObj = {\n          TaskName: taskName,\n          TaskTicks: taskTicks,\n        };\n  \n        taskData.push(taskObj);\n      });\n  \n     // console.log(\"taskData =\", taskData);\n  \n      // use taskData to display in the template\n      this.taskData = taskData; \n    }\n  }\n}\n\ninterface TaskData {\n  TaskName: string;\n  Performed: string;//Performed means TaskTick\n Date: string;\n  Hour: string;\n  Minutes?: string;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}